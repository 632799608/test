!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("Vue"));else if("function"==typeof define&&define.amd)define(["Vue"],t);else{var r=t("object"==typeof exports?require("Vue"):e.Vue);for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}(this,function(e){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var i=r(1);i.lazyload={install:function(e,t){t||(t={});var r={loading:t.loading||"",error:t.error||"",hasbind:!1,isInChild:!1,childEl:null,"try":t["try"]||1},i=[],n=function(e){for(var t=0;t<i.length;++t){var e=i[t],r=void 0,n=void 0;e.parentEl?(r=e.parentEl.offsetHeight,n=e.parentEl.scrollTop):(r=window.screen.availHeight,n=document.documentElement.scrollTop||document.body.scrollTop);var o=(n+r)*window.devicePixelRatio*1.3;e.y<o&&s(e)}},o=function(e,t,r){var i=new Image;i.src=e.src,i.onload=function(){t(e)},i.onerror=function(){r(e)}},s=function(e){return!(e["try"]>=r["try"])&&(e["try"]++,void o(e,function(e){var t=i.indexOf(e);t!==-1&&i.splice(t,1),e.bindType?e.el.setAttribute("style",e.bindType+": url("+e.src+")"):e.el.setAttribute("src",e.src),e.el.setAttribute("lazy","loaded")},function(){if(e.el.setAttribute("src",e.error),e.el.setAttribute("lazy","error"),e["try"]>=r["try"]){var t=i.indexOf(e);t!==-1&&i.splice(t,1)}}))},l=function(e){var t=e.offsetTop,r=e.offsetHeight;for(t;e=e.offsetParent;)t+=e.offsetTop;return{y:(t+r)*window.devicePixelRatio}};e.directive("lazyload",{bind:function(){r.hasbind||(document.getElementById(Object.keys(this.modifiers)[0])&&(r.isInChild=!0,r.childEl=document.getElementById(Object.keys(this.modifiers)[0])),r.hasbind=!0,r.isInChild&&r.childEl.addEventListener("scroll",n),window.addEventListener("scroll",n),window.addEventListener("wheel",n),window.addEventListener("mousewheel",n),window.addEventListener("resize",n),n())},update:function(e,t){var o=this,s=e&&e.src?e.src:e,d=e&&e.error?e.error:r.error,c=e&&e.loading?e.loading:r.loading;this.el.setAttribute("lazy","loading"),this.arg?this.el.setAttribute("style",this.arg+": url("+c+")"):this.el.setAttribute("src",c);var a=null;document.getElementById(Object.keys(this.modifiers)[0])&&(a=document.getElementById(Object.keys(this.modifiers)[0])),this.vm.$nextTick(function(){var e=l(o.el);i.push({bindType:o.arg,"try":0,parentEl:a,el:o.el,src:s,y:e.y,error:d}),n()})},unbind:function(e){var t=void 0,o=i.length;for(t=0;t<o;t++)i[t].src==e&&i.splice(t,1);0==i.length&&(r.hasbind=!1,window.removeEventListener("scroll",n),window.removeEventListener("wheel",n),window.removeEventListener("mousewheel",n),window.removeEventListener("resize",n))}})}}},function(t,r){t.exports=e}])});